---
title: "[31ì¼ì°¨] ì¡°ê±´ ì œì–´ë¬¸"
excerpt: "ì•„ì´í‹°ìœŒ 0604_(1) "
categories:
      - ORACLE11g
tags:
      - ORACLE11g
      - TIL
last-modified-at: 2025-06-04T17:53
---

# ì¡°ê±´ ì œì–´ë¬¸

- ì¡°ê±´ì— ë”°ë¼ ì„ ë³„ì ìœ¼ë¡œ ìž‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆë‹¤.
- PL / SQL ë¸”ë¡ ë‚´ì—ì„œ ëª…ë ¹ë¬¸ì˜ ë…¼ë¦¬ì  íë¦„ì„ ë³€ê²½í•  ìˆ˜ ìžˆë‹¤.
- booleanì€ ì°¸(TRUE), ê±°ì§“(FALSE)

# IF ë¬¸

1)

```sql
IF ì¡°ê±´ THEN
		ì°¸
END IF;		
```

2)

```sql
IF ì¡°ê±´ THEN
		ì°¸
ELSE
		ê±°ì§“
END IF;				
```

3)

```sql
IF ì¡°ê±´1 THEN
		ì°¸
ELSIF ì¡°ê±´2 THEN
		ì°¸
ELSEIF ì¡°ê±´3 THEN
		ì°¸
...
ELSE 
	 ê±°ì§“
END IF;	 				
```

â–¶ï¸ ë¹„êµ ì—°ì‚°ìž

`= ,>, >=, <, <=, <>, !=, ^=` 

â–¶ï¸ ë…¼ë¦¬ ì—°ì‚°ìž

`NOT, AND, OR`

â–¶ï¸ ê¸°íƒ€ ë¹„êµ ì—°ì‚°ìž

`BETWEEN AND, IN, LIKE`

â–¶ï¸ NULL ì—°ì‚°ìž

`IS NULL , IS NOT NULL`

ex 1) IF êµ¬ì¡°

â†’ ì¡°ê±´ì„ í‰ê°€í•˜ì—¬ ëª…ë ¹ë¬¸ì„ ìˆ˜í–‰í•œë‹¤.

```sql
DECLARE
		v_flag boolean := true;
BEGIN
		IF v_flag THEN
				dbms_output.put_line('ì°¸');
		END IF;
END;
/
-- ì°¸

DECLARE
    v_flag boolean;    -- null
BEGIN
    IF v_flag THEN
        dbms_output.put_line('ì°¸');
    ELSE
        dbms_output.put_line('ê±°ì§“');
    END IF;
END;
/

-- ê±°ì§“
```

ex 2)

```sql
DECLARE
	v_num number;
BEGIN
	IF
		v_num IS NULL THEN
			dbms_output.put_line('ì°¸');
	ELSE
		  dbms_output.put_line('ê±°ì§“');
	END IF;
END;
/
```

ex 3)

```sql
DECLARE
	v_num number;
BEGIN
	IF
		v_num IS NULL THEN
			dbms_output.put_line('ì°¸');
	ELSE
		  dbms_output.put_line('ê±°ì§“');
	END IF;
END;
/

--ì°¸
```

ex 4)

```sql
DECLARE
    v_num1 number := 10;
    v_num2 number := 15;
BEGIN
    IF v_num1 >= v_num2 THEN
        dbms_output.put_line(v_num1 - v_num2);
    ELSIF v_num1 < v_num2 THEN
        dbms_output.put_line(v_num2 - v_num1);
    END IF;
END;
/

-- 5 
```

ex 5) null

```sql
DECLARE
    v_sal number := 10000;
    v_comm number;   -- null
    v_annual_salary number; -- null
BEGIN
    v_annual_salary := (v_sal*12) + (v_sal*12*v_comm);  -- null
    dbms_output.put_line(v_annual_salary);  -- null
END;
/

---> null ê°’ ëŒ€ì²´
DECLARE
    v_sal number := 10000;
    v_comm number;   -- null
    v_annual_salary number; -- null
BEGIN
    v_annual_salary := (v_sal*12) + (v_sal*12*nvl(v_comm,0));  
    dbms_output.put_line(v_annual_salary);  -- 120000
END;
/
```

ex 6) IF êµ¬ì¡° í˜•ì‹

```sql
DECLARE
    v_sal number := 10000;
    v_comm number;   -- null
    v_annual_salary number; -- null
BEGIN
   IF v_comm IS NOT NULL THEN
      v_annual_salary := (v_sal*12)+(v_sal*12*v_comm);
      dbms_output.put_line(v_annual_salary);
   ELSE
      v_annual_salary := (v_sal*12);
      dbms_output.put_line(v_annual_salary);
   END IF;
END;
/

-- 120000

DECLARE
    v_sal number := 10000;
    v_comm number := 0.1;   
    v_annual_salary number; -- null
BEGIN
   IF v_comm IS NOT NULL THEN
      v_annual_salary := (v_sal*12)+(v_sal*12*v_comm);
      dbms_output.put_line(v_annual_salary); -- 120000+(12000) = 132000
   ELSE
      v_annual_salary := (v_sal*12);
      dbms_output.put_line(v_annual_salary);
   END IF;
END;
/
```

ex 7) 

- `decode` í•¨ìˆ˜ëŠ” í”„ë¡œì‹œì €ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- ë³€ìˆ˜ í• ë‹¹ ì—°ì‚°ìž ì˜¤ë¥¸ìª½ì— IF êµ¬ì¡° ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

```sql
BEGIN
	v_result := decode(...); -- ì˜¤ë¥˜ ë°œìƒ
END;
/

BEGIN
	v_result := IF ... ; -- ì˜¤ë¥˜ ë°œìƒ
END;
/
```

ex 8) `CASE` í‘œí˜„ì‹

â†’ ì¡°ê±´ì„ í‰ê°€í•˜ì—¬ ê°’ì„ ë°˜í™˜í•œë‹¤.

```sql
DECLARE
	 v_grade char(1) := upper('a');
	 v_appraisal varchar2(30);
BEGIN
	 v_appraisal := case v_grade
									when 'A' then 'ì°¸ìž˜í–ˆì–´ìš”'
									when 'B' then 'ìž˜í–ˆì–´ìš”'
									when 'C' then 'ë‹¤ìŒì— ìž˜í•´ìš”'
									else
											'ë‹ˆê°€ ì‚¬ëžŒì´ì•¼!!!'
									end;
		dbms_output.put_line('ë“±ê¸‰ì€ '||v_grade||' í‰ê°€ëŠ” '||v_appraisal);							
END;
/

-- ë“±ê¸‰ì€ A í‰ê°€ëŠ” ì°¸ìž˜í–ˆì–´ìš”

--> ì´ë ‡ê²Œë„ í‘œí˜„í•  ìˆ˜ ìžˆìŒ.

DECLARE
	 v_grade char(1) := upper('a');
	 v_appraisal varchar2(30);
BEGIN
	 v_appraisal := case 
									when v_grade = 'A' then 'ì°¸ìž˜í–ˆì–´ìš”'
									when v_grade IN('B','C') then 'ìž˜í–ˆì–´ìš”'
									when v_grade ='D' then 'ë‹¤ìŒì— ìž˜í•´ìš”'
									else
											'ë‹ˆê°€ ì‚¬ëžŒì´ì•¼!!!'
									end;
		dbms_output.put_line('ë“±ê¸‰ì€ '||v_grade||' í‰ê°€ëŠ” '||v_appraisal);							
END;
/

-- ë“±ê¸‰ì€ A í‰ê°€ëŠ” ì°¸ìž˜í–ˆì–´ìš”
```

ex 9) ë°”ì¸ë“œ ë³€ìˆ˜

ðŸ“ SQL Developer

```sql
-- bind ë³€ìˆ˜
DECLARE
    v_grade char(1) := upper(:b_grade);
    v_appraisal varchar2(30);
BEGIN
    v_appraisal := case
                     when v_grade ='A' then 'ì°¸ìž˜í–ˆì–´ìš”'
                     when v_grade IN('B', 'C') then 'ìž˜í–ˆì–´ìš”'
                     when v_grade = 'D' then 'ë‹¤ìŒì— ìž˜í•´ìš”'
                     else
                        'ë‹ˆê°€ ì‚¬ëžŒì´ì•¼!!!'
                   end;
    dbms_output.put_line('ë“±ê¸‰ì€ '||v_grade||' í‰ê°€ëŠ” '||v_appraisal);							           
END;
/

--> IF êµ¬ì¡° 
DECLARE
    v_grade char(1) := upper(:b_grade);
    v_appraisal varchar2(30);
BEGIN
    IF
      v_grade = 'A' then v_appraisal := 'ì°¸ìž˜í–ˆì–´ìš”';
    ELSIF
      v_grade = 'B' then v_appraisal :=  'ìž˜í–ˆì–´ìš”';
    ELSIF
      v_grade = 'C' then v_appraisal :=  'ë‹¤ìŒì— ìž˜í•´ìš”';
    ELSE
      v_appraisal :=  'íž˜ë‚´ì‹œì˜¤.';
    END IF;
    dbms_output.put_line('ë“±ê¸‰ì€ '||v_grade||' í‰ê°€ëŠ” '||v_appraisal);
END;
/

--> **CASE 'ë¬¸'  (ë³€ìˆ˜ í• ë‹¹ìž ì˜¤ë¥¸ìª½ì— ì“°ë©´ ì•ˆëœë‹¤.)
--> CASE 'í‘œí˜„ì‹'ê³¼ êµ¬ë¶„í•´ì•¼ í•¨.**
DECLARE
    v_grade char(1) := upper(:b_grade);
    v_appraisal varchar2(30);
BEGIN
    CASE
      WHEN v_grade = 'A' then 
	      v_appraisal := 'ì°¸ìž˜í–ˆì–´ìš”';
      WHEN v_grade = 'B' then 
	      v_appraisal :=  'ìž˜í–ˆì–´ìš”';
      WHEN v_grade = 'C' then 
        v_appraisal :=  'ë‹¤ìŒì— ìž˜í•´ìš”';
      ELSE
        v_appraisal :=  'íž˜ë‚´ì‹œì˜¤.';
    END CASE;
    dbms_output.put_line('ë“±ê¸‰ì€ '||v_grade||' í‰ê°€ëŠ” '||v_appraisal);
END;
/
```

ðŸ“ SQL PLUS

```sql
-- ë°”ì¸ë“œ ë³€ìˆ˜ë¥¼ ë¨¼ì € ì •ì˜í•´ì•¼ ëœë‹¤.
SQL> var b_grade char(1)
SQL> excute :b_grade := 'a'
```