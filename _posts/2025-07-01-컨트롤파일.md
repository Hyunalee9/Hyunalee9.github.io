---
title: "[48ì¼ì°¨] ì»¨íŠ¸ë¡¤íŒŒì¼"
excerpt: "ì•„ì´í‹°ìœŒ 0701(2) "
categories:
      - ORACLE19c
tags:
      - ORACLE19c
      - TIL
last-modified-at: 2025-07-01T18:34
---

# ì»¨íŠ¸ë¡¤ íŒŒì¼

ğŸ“ control file

- ì˜¤ë¼í´ ë°ì´í„°ë² ì´ìŠ¤ì˜ êµ¬ì¡°ë¥¼ ì„¤ëª…í•˜ëŠ” ì‘ì€ binary file
    - ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„, ì‹ë³„ì, ìƒì„±ì‹œê°„
    - tablespace ì •ë³´, data file ì •ë³´, redo log file ì •ë³´
    - í˜„ì¬ online redo log file ì˜ sequence ë²ˆí˜¸
    
    ```bash
    select * fom v$log;  -- ì»¨íŠ¸ë¡¤ íŒŒì¼ë“¤ì´ ê°€ì§€ê³  ìˆëŠ” ì •ë³´.
    ```
    
    - checkpoint ì •ë³´, scn ì •ë³´
    - backup ì •ë³´
    - archivelog mode, noarchivelog mode
- ë¬¼ë¦¬ì  ë°ì´í„°ë² ì´ìŠ¤ í˜„ì¬ ìƒíƒœ ì •ë³´
- í•„ìš”í•œ ê²½ìš° : database ì‹œì‘í•˜ëŠ” ë™ì•ˆ mount ìƒíƒœì¼ë•Œ, database ìš´ì˜í•  ë•Œ
- ì†ì‹¤ëœ ê²½ìš° ë³µêµ¬ê°€ í•„ìš”í•˜ë‹¤.
- control fileì€ ë‹¤ì¤‘í™” í•˜ì.

```bash
select name from v$controlfile;
```

```bash
select * from v$parameter where name = 'control_files';
```

## control file ë‹¤ì¤‘í™”(2ì¤‘í™” â†’ 3ì¤‘í™”)

1. ì´ˆê¸° íŒŒë¼ë¯¸í„° íŒŒì¼ì´ ì„œë²„ íŒŒë¼ë¯¸í„° íŒŒì¼ë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤. (SPFILE)

```bash
show parameter spfile
```

1. control_files íŒŒë¼ë¯¸í„° ì„¤ì •

```bash
alter system set control_files =
  '/u01/app/oracle/oradata/ORA19C/control01.ctl',
  '/u01/app/oracle/fast_recovery_area/ORA19C/control02.ctl',
  '/home/oracle/backup/control03.ctl' scope = spfile;
```

1. ë°ì´í„°ë² ì´ìŠ¤ ì •ìƒì ì¸ ì¢…ë£Œ

```bash
shutdown [ immediate | transactional | normal]
```

1. ê¸°ì¡´ control fileë¥¼ ë‹¤ë¥¸ ìœ„ì¹˜ ë³µì‚¬ 

```bash
mkdir -p /home/oracle/backup
cp -v /u01/app/oracle/oradata/ORA19C/control01.ctl' /home/oracle/backup/control03.ctl
```

1. ì˜¤ë¼í´ ì‹œì‘

```bash
startup
show parameter control_files
```

## pfile(í…ìŠ¤íŠ¸íŒŒì¼)ì„ ì´ìš©í•œ control file 3ì¤‘í™”

- ì´ˆê¸° íŒŒë¼ë¯¸í„° íŒŒì¼ì´ í…ìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° íŒŒì¼ë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤.
1. ë°ì´í„°ë² ì´ìŠ¤ ì •ìƒì ì¸ ì¢…ë£Œ

```bash
shutdown immediate
```

1. í…ìŠ¤íŠ¸ ì´ˆê¸° íŒŒë¼ë¯¸í„° íŒŒì¼ ìˆ˜ì •

```bash
cd $ORACLE_HOME/dbs
vi initora19c.ora

*.control_files='/u01/app/oracle/oradata/ORA19C/control01.ctl',
 '/u01/app/oracle/fast_recovery_area/ORA19C/control02.ctl',
 '/home/oracle/backup/control03.ctl'
```

1. ê¸°ì¡´ control fileë¥¼ ë‹¤ë¥¸ ìœ„ì¹˜ ë³µì‚¬ 

```bash
mkdir -p /home/oracle/backup
cp -v /u01/app/oracle/oradata/ORA19C/control01.ctl' /home/oracle/backup/control03.ctl
```

1. ì˜¤ë¼í´ ì‹œì‘

```bash
startup
show parameter control_files
```