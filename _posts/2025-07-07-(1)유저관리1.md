---
title: "ìœ ì € ê´€ë¦¬_ì •ë¦¬(1)"
excerpt: "ì•„ì´í‹°ìœŒ 0707_(1)"
categories:
      - ORACLE11g
tags:
      - ORACLE11g
      - TIL
last-modified-at: 2025-07-07T18:01
---

**ğŸ“ ìœ ì € ìƒì„±**

```sql
-- ì‚¬ìš©ì(ê³„ì •) ìƒì„±
CREATE USER ìœ ì €ì´ë¦„
IDENTIFIED BY íŒ¨ìŠ¤ì›Œë“œ  -- ê³„ì • ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
DEFAULT TABLESPACE í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì´ë¦„  -- ì‚¬ìš©ìì˜ ê¸°ë³¸ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì§€ì • (í…Œì´ë¸”/ì¸ë±ìŠ¤ ë“± ê°ì²´ ìƒì„± ì‹œ ê¸°ë³¸ ì €ì¥ ìœ„ì¹˜)
TEMPORARY TABLESPACE ì„ì‹œí…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì´ë¦„  -- ì •ë ¬ì´ë‚˜ í•´ì‹œ ì‘ì—… ë“± ì„ì‹œ ì‘ì—…ì— ì‚¬ìš©ë  í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì§€ì •
QUOTA UNLIMITED ON í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì´ë¦„  -- í•´ë‹¹ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•´ ë¬´ì œí•œ ê³µê°„ ì‚¬ìš© í—ˆìš©
QUOTA 10M ON í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì´ë¦„  -- í•´ë‹¹ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•´ ìµœëŒ€ 10MBê¹Œì§€ë§Œ ì‚¬ìš© í—ˆìš© (ìœ„ì™€ ë³‘í–‰ ë¶ˆê°€, ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ)
PASSWORD EXPIRE  -- ê³„ì • ìƒì„± ì‹œ ë°”ë¡œ ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ ìƒíƒœë¡œ ì„¤ì • â†’ ì‚¬ìš©ìê°€ ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê°•ì œë¡œ ë³€ê²½í•´ì•¼ í•¨
ACCOUNT LOCK   -- ê³„ì • ë¹„í™œì„±í™” ìƒíƒœë¡œ ìƒì„± (ì ê¸ˆ ìƒíƒœ)
-- ACCOUNT UNLOCK  -- ê³„ì • í™œì„±í™” ìƒíƒœë¡œ ìƒì„± (ê¸°ë³¸ê°’)
PROFILE í”„ë¡œíŒŒì¼ì´ë¦„  -- ê³„ì •ì— ì ìš©í•  í”„ë¡œíŒŒì¼ ì§€ì • (ì„¸ì…˜ ìˆ˜, ë¹„ë°€ë²ˆí˜¸ ì •ì±… ë“± ì œì–´)
-- PROFILE DEFAULT  -- ê¸°ë³¸ í”„ë¡œíŒŒì¼ ì‚¬ìš© (ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©)
;
```

â–¶ï¸ **detail**

**ìœ ì € ì´ë¦„ : ê³ ìœ í•œ ì´ë¦„, 30byteë¥¼ ì´ˆê³¼í•˜ê±°ë‚˜ íŠ¹ìˆ˜ ë¬¸ìëŠ” í¬í•¨í•  ìˆ˜ ì—†ìœ¼ë©° ë¬¸ìë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.**

**DEFAULT TABLESPACE** : segment ìƒì„± ì‹œì— í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì§€ì •í•˜ì§€ ì•Šì€ ê²½ìš° ìƒì„±í•œ ì„¸ê·¸ë¨¼íŠ¸ê°€ ì €ì¥ë˜ëŠ” ìœ„ì¹˜

**TEMPORARY TABLESPACE** : ì •ë ¬, hash, bitmap index ìƒì„±, ë³‘í•© ì‹œì— ë©”ëª¨ë¦¬ì—ì„œ ì²˜ë¦¬ë¥¼ ëª»í•  ê²½ìš° ì‚¬ìš©í•˜ëŠ” ì„ì‹œ ìŠ¤í˜ì´ìŠ¤

**QUOTA** : í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì–‘

**PASSWORD EXPIRE** : ìœ ì €ê°€ ë¡œê·¸ì¸í•  ë•Œ ì•”í˜¸ë¥¼ ì¬ì„¤ì •í•˜ë„ë¡ í•œë‹¤.

**ACCOUNT** : ê³„ì •ì„ locking í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ locking í•´ì œì´ë‹¤.

**PROFILE** : ë¦¬ì†ŒìŠ¤ ê´€ë¦¬, íŒ¨ìŠ¤ì›Œë“œ ê´€ë¦¬

**ğŸ“ ìœ ì € ìˆ˜ì •**

```sql
ALTER USER ìœ ì € ì´ë¦„
IDENTIFIED BY íŒ¨ìŠ¤ì›Œë“œ
DEFAULT TABLESPACE í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë¦„
TEMPORARY TABLESPACE ì„ì‹œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë¦„
QUOTA unlimited ON í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë¦„
QUOTA 10M ON í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë¦„
PASSWORD EXPIRE
ACCOUNT [LOCK | UNLOCK(ê¸°ë³¸ê°’)]
PROFILE [í”„ë¡œíŒŒì¼ ì´ë¦„ | DEFAULT(ê¸°ë³¸ê°’)]; 
```

**ğŸ“ ìœ ì € ì‚­ì œ**

```sql
DROP USER ìœ ì € ì´ë¦„ CASCADE;
```

â–¶ï¸ **detail**

**CASCADE** : ìœ ì €ê°€ ìƒì„±í•œ ê°ì²´ë“¤ì„ ë¨¼ì € ì‚­ì œí•œ í›„ ìœ ì € ì‚­ì œí•˜ëŠ” ì˜µì…˜ì´ë‹¤.

í˜„ì¬ ì ‘ì†í•œ ìœ ì €ëŠ” ì‚­ì œí•  ìˆ˜ ì—†ë‹¤. 

```sql
-- ì„¸ì…˜ killí•˜ëŠ” ëª…ë ¹ì–´

âœ… 1ë‹¨ê³„: í˜„ì¬ ì„¸ì…˜ ì •ë³´ í™•ì¸ (SID, SERIAL# í™•ì¸)

SELECT sid, serial#, username, status, osuser, machine, program
FROM v$session
WHERE username = 'ì‚¬ìš©ìì´ë¦„';  -- íŠ¹ì • ì‚¬ìš©ì ì„¸ì…˜ë§Œ ì¡°íšŒ (í•„ìš”ì‹œ ìƒëµ ê°€ëŠ¥)

âœ… 2ë‹¨ê³„: ì„¸ì…˜ ì¢…ë£Œ (KILL SESSION)

ALTER SYSTEM KILL SESSION 'SID,SERIAL#';

âœ… 3ë‹¨ê³„ (í•„ìš”ì‹œ): IMMEDIATE ì˜µì…˜

ALTER SYSTEM KILL SESSION '123,456' IMMEDIATE; -- ì´ ë¬¸ì¥ì„ ì‹¤í–‰í•˜ë©´ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ì„œ PMONì´ ìë™ ë¡¤ë°±ì‹œí‚¨ë‹¤.  
```

ğŸ“ insa_tbs í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ìƒì„±

```sql
CREATE TABLESPACE insa_tbs
DATAFILE '/u01/app/oracle/oradata/ORA19C/insa_tbs.dbf' SIZE 10M AUTOEXTEND ON
EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M
SEGMENT SPACE MANAGEMENT AUTO;
```

ğŸ“ insa_temp ì„ì‹œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ìƒì„±

```sql
CREATE TEMPORARY TABLESPACE insa_temp
TEMPFILE '/u01/app/oracle/oradata/ORA19C/insa_temp.dbf' SIZE 10M AUTOEXTEND ON
EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M
SEGMENT SPACE MANAGEMENT MANUAL;
```

```sql
-- insa ì‚¬ìš©ì(ìœ ì €) ìƒì„±
CREATE USER insa
IDENTIFIED BY oracle  -- ë¹„ë°€ë²ˆí˜¸: oracle
DEFAULT TABLESPACE insa_tbs  -- ê¸°ë³¸ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤: insa_tbs
TEMPORARY TABLESPACE insa_temp  -- ì„ì‹œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤: insa_temp
QUOTA 1M ON insa_tbs  -- insa_tbs í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— ìµœëŒ€ 1MBê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥
PASSWORD EXPIRE;  -- ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ â†’ ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ ë³€ê²½ ìš”êµ¬

-- DBA_USERS ë·°ì—ì„œ ì‚¬ìš©ì ì •ë³´ í™•ì¸
SELECT * FROM dba_users;
```

ğŸ“ ê¶Œí•œ(privilege) ê´€ë¦¬

ê¶Œí•œì€ íŠ¹ì •í•œ SQLë¬¸ì„ ì‹¤í–‰í•˜ê±°ë‚˜ ë‹¤ë¥¸ ìœ ì €ê°€ ì†Œìœ í•œ ê°ì²´ë¥¼ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ

1ï¸âƒ£ system ê¶Œí•œ

- ë°ì´í„°ë² ì´ìŠ¤ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ê¶Œí•œ
- ê¶Œí•œ ê´€ë¦¬ëŠ” sysê°€ í•œë‹¤.

```sql
-- â–¶ï¸ dba session
-- insa ìœ ì €ì—ê²Œ ì ‘ì† ê¶Œí•œ ì¤€ë‹¤.
GRANT CREATE SESSION TO insa;

-- â–¶ï¸ ê¶Œí•œ í™•ì¸
SELECT * FROM dba_sys_privs WHERE grantee = 'INSA'; 

â–¶ï¸ insa session
-- ë¹„ë°€ë²ˆí˜¸ ë°”ê¿”ì£¼ê³ 

select * from user_sys_privs; -- ì‹œìŠ¤í…œ ê¶Œí•œ í™•ì¸
select * from user_ts_quotas; -- ê°ì²´ ê¶Œí•œ í™•ì¸

â–¶ï¸ sys session

grant create table to insa;

select * from dba_sys_privs where grantee = 'INSA';

revoke create table from insa;

select * from dba_sys_privs where grantee = 'INSA';

# with admin optionìœ¼ë¡œ ë°›ì€ ì‹œìŠ¤í…œ ê¶Œí•œì— ëŒ€í•´ì„œëŠ” ë‚´ê°€ ë‹¤ë¥¸ ìœ ì €ì—ê²Œ ì‹œìŠ¤í…œ ê¶Œí•œì„ ë¶€ì—¬í•˜ê³  ê¶Œí•œì„ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.
grant create table to insa with admin option;

select * from dba_sys_privs where grantee = 'INSA';

â–¶ï¸ insa session 
select * from user_sys_privs;

â–¶ï¸ sys session

-- sys ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ ì‹¤í–‰

-- insa_buha ì‚¬ìš©ì(ìœ ì €) ìƒì„±
CREATE USER insa_buha
IDENTIFIED BY oracle  -- ë¹„ë°€ë²ˆí˜¸: oracle
DEFAULT TABLESPACE insa_tbs  -- ê¸°ë³¸ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤
TEMPORARY TABLESPACE insa_temp  -- ì„ì‹œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤
QUOTA 1M ON insa_tbs;  -- insa_tbs í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì— 1MBê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥

-- ì‚¬ìš©ì ëª©ë¡ í™•ì¸ (ì •ìƒ ìƒì„± ì—¬ë¶€ í™•ì¸)
SELECT * FROM dba_users;

-- insa_buha ìœ ì €ì—ê²Œ ì„¸ì…˜ ìƒì„± ê¶Œí•œ ë¶€ì—¬ (ë¡œê·¸ì¸ ê°€ëŠ¥í•˜ê²Œ)
GRANT CREATE SESSION TO insa_buha;

-- insa_buha ìœ ì €ì˜ ì‹œìŠ¤í…œ ê¶Œí•œ í™•ì¸
SELECT * 
FROM dba_sys_privs 
WHERE grantee = 'INSA_BUHA';

â–¶ï¸ insa session
-- insaê°€ ë°›ì€ ê¶Œí•œì„ insa_buhaì—ê²Œ ë¶€ì—¬í•œë‹¤.

SQL> select * from user_sys_privs;
SQL> grant create table to insa_buha;

USERNAME
--------------------------------------------------------------------------------
PRIVILEGE                                ADM COM INH
---------------------------------------- --- --- ---
INSA
CREATE TABLE                             YES NO  NO

INSA
CREATE SESSION                           NO  NO  NO

â–¶ï¸ insa_buha session

SQL> select * from user_sys_privs;

USERNAME
--------------------------------------------------------------------------------
PRIVILEGE                                ADM COM INH
---------------------------------------- --- --- ---
INSA_BUHA
CREATE TABLE                             NO  NO  NO

INSA_BUHA
CREATE SESSION                           NO  NO  NO

SQL> create table buha(id number, name varchar2(30));

Table created.

SQL> insert into buha(id,name) values(1, 'scott');
SQL> commit;

â–¶ï¸ sys 

revoke create table from insa_buha;
grant create sequence to insa with admin option;

â–¶ï¸ insa_buha

SQL> select * from user_sys_privs;

USERNAME
--------------------------------------------------------------------------------
PRIVILEGE                                ADM COM INH
---------------------------------------- --- --- ---
INSA_BUHA
CREATE SESSION                           NO  NO  NO

â–¶ï¸ insa
select * from user_sys_privs;
```

![image.png](/assets/20250707/1.png)

```sql
-- â–¶ï¸ insa 

-- ì‹œí€€ìŠ¤ ìƒì„±
create sequence id_seq
start with 1
maxvalue 10
increment by 1
nocycle
nocache;

-- insa_new í…Œì´ë¸” ìƒì„±
CREATE TABLE insa_new(id number, name varchar2(30));

-- id_seq ì‹œí€€ìŠ¤ì˜ nextval ê°’ì„ ì´ìš©í•´ insa_new í…Œì´ë¸”ì— ë°ì´í„° ì‚½ì…
INSERT INTO insa_new(id, name) VALUES(id_seq.NEXTVAL, 'sophia');
INSERT INTO insa_new(id, name) VALUES(id_seq.NEXTVAL, 'liam');
INSERT INTO insa_new(id, name) VALUES(id_seq.NEXTVAL, 'noah');

-- íŠ¸ëœì­ì…˜ í™•ì • (ë°ì´í„°ë² ì´ìŠ¤ì— ì˜êµ¬ ë°˜ì˜)
COMMIT;

select * from user_sequences where sequence_name = 'ID_SEQ';

select * from insa_new;

select id_seq.currval from dual;

grant create sequence to insa_buha;

-- â–¶ï¸ insa_buha

select * from user_sys_privs;

create sequence buha_seq start with 2;

select * from user_sequences where sequence_name = 'ID_SEQ';

-- â–¶ï¸ sys 
revoke create table from insa_buha;
grant create sequence to insa with admin option;

-- with admin option ì„ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œ ê¶Œí•œì„ ë¶€ì—¬í–ˆëŠ”ì§€ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ ì‹œìŠ¤í…œ ê¶Œí•œì„ ì·¨ì†Œí•  ë•ŒëŠ” ì—°ì‡„ì ìœ¼ë¡œ ì·¨ì†Œë˜ì§€ ì•ŠëŠ”ë‹¤.
-- ê°œë³„ë¡œ ê¶Œí•œì„ ì·¨ì†Œ í•´ì•¼í•œë‹¤.
select * from dba_sys_privs where grantee in ('INSA' , 'INSA_BUHA');

revoke create sequence from insa;

-- ì¸ì‚¬ì—ê²Œ ë¶€ì—¬ëœ ê¶Œí•œë§Œ revokeëœë‹¤. insa_buhaì—ê²Œ ë¶€ì—¬ëœ ê¶Œí•œì€ ë”°ë¡œ íšŒìˆ˜í•´ì•¼ í•œë‹¤.
select * from dba_sys_privs where grantee in ('INSA' , 'INSA_BUHA');

revoke create sequence from insa_buha;
select * from dba_sys_privs where grantee in ('INSA' , 'INSA_BUHA');
```

ğŸ“ **WITH ADMIN OPTION**

**ë¶€ì—¬ë°›ì€ ê¶Œí•œì„ ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²Œë„ ë¶€ì—¬(Grant)í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ**ê¹Œì§€ ê°™ì´ ì£¼ëŠ” ê²ƒ

 

2ï¸âƒ£ ê°ì²´(object) ê¶Œí•œ

- ë‹¤ë¥¸ ìœ ì €ê°€ ì†Œìœ í•œ **ê°ì²´ë¥¼ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ**
- ê¶Œí•œ ê´€ë¦¬ëŠ” sys, ê°ì²´ ì†Œìœ ìê°€ ê¶Œí•œì„ ë¶€ì—¬í•˜ê³  ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.
- TABLE : SELECT , INSERT, UPDATE, DELETE, ALTER, INDEX, REFERENCES
- VIEW  :  SELECT , INSERT, UPDATE, DELETE
- SEQUENCE  :  SELECT, ALTER
- PROCEDURE, FUNCTION, PACKAGE : EXECUTE

```sql
â–¶ï¸ sys session

GRANT SELECT ON hr.employees to insa;
```

ğŸ“ with grant option ìœ¼ë¡œ ë°›ì€ ê°ì²´ ê¶Œí•œì„ ë‹¤ë¥¸ ìœ ì €ì—ê²Œ ê°ì²´ ê¶Œí•œì„ ë¶€ì—¬í•˜ê³  ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.

```sql
â–¶ï¸ sys session
grant select on hr.employees to insa with grant option;
grant select on hr.departments to insa with grant options;
 

â–¶ï¸ insa session
select * from user_tab_privs;
grant select on hr.employees to insa_buha;
grant select on hr.departments to insa_buha;

â–¶ï¸ sys session
-- with grant option ì„ ì‚¬ìš©í•˜ì—¬ ë¶€ì—¬í•œ ê°ì²´ ê¶Œí•œì„ ì·¨ì†Œí•˜ë©´ ì—°ì‡„ì ìœ¼ë¡œ ì·¨ì†Œê°€ ëœë‹¤.
select * from dba_tab_privs where grantee in ('INSA', 'INSA_BUHA');
revoke select on hr.departments from insa;
```