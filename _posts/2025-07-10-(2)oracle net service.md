---
title: "Network_Oracle Net Service"
excerpt: "아이티윌 0710_(2)"
categories:
      - ORACLE11g
tags:
      - ORACLE11g
      - TIL
last-modified-at: 2025-07-10T18:01
---



!![image.png](/assets/20250710/7.png)

➡ Local 에서는 리스너가 없어도 문제 없이  sqlplus에 접속이 가능하다. 

🌳  **SQL Developer**

![image.png](/assets/20250710/8.png)

➡ Remote 지역에서는 리스너가 반드시 필요하다. 

즉, **클라이언트 - 서버 환경**에서는 리스너가 반드시 필요

## Oracle Net Service

Oracle Net Service는 client 또는 middle-tier 응용 프로그램에서 오라클 서버의 네트워크 연결을 활성화 한다.

## Listener

- 클라이언트 연결 요청을 수신하고 서버에 대한 트래픽을 관리하는 서버에 상주하는 프로세스
- local이 아닌 모든 유저 연결을 위한 oracle instance gateway이다.

## listener가 가진 정보

- **port** (오라클 기본포트: 1521) : 1 ~ 65535 사용가능
- **protocol : TCP/IP**
    - TCP (데이터를 전송할 때 문제가 있는지 검증할 때 사용하는 규칙)
    - IP (상대방 컴퓨터를 찾아가는 프로토콜)
    
    `<cf> ip : 내부에서 통신을 위한 프로토콜, extproc : 오라클에서 사용되는 모든 프로세스들은 c 라이브러리로 되어 있는데, 그들을 위한 통신 통로`
    
- **sid** (system identifier) : 오라클 인스턴스 이름 — ora19c
- **service_names** : 여러개의 인스턴스를 묶어서 하나의 서비스로 구성 (db_name.db_domain)
    
    ※ (예) 하이언드는 DB는 여러개인데, 어떤 도메인에 묶여 있느냐에 따라 다르다.
    
- **host** : 컴퓨터 이름, ip 주소

![image.png](/assets/20250710/9.png)

## 리스너의 위치

```sql
[oracle@oracle ~]$ cd $ORACLE_HOME/network/admin
[oracle@oracle admin]$ ls
listener.ora  samples  shrept.lst  tnsnames.ora

[oracle@oracle admin]$ cat listener.ora
# listener.ora Network Configuration File: /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

-- ▶sid, service_name 여기에는 없음.
```

## PMON

11g까지는 listener에게 데이터베이스 정보를 등록하는 프로세스

## LREG

12c 부터는 listener에게 데이터베이스 정보를 등록하는 프로세스

🌳 listener start를 하게 되면 LREG가 리스너의 상태 정보를 천천히 감지한다. 

**(보통 1분정도 걸리며, 너무 길어지면 `ALTER SYSTEM REGISTER` 해야함)**

![image.png](/assets/20250710/10.png)

🌳listener에게 데이터베이스 정보를 수동으로 등록하는 명령어

```sql
SYS@ora19c> alter system register;

System altered.

SYS@ora19c> ! lsnrctl status

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 11-JUL-2025 12:07:04

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                11-JUL-2025 12:03:08
Uptime                    0 days 0 hr. 3 min. 56 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=oracle)(PORT=5500))(Security=(my_wallet_directory=/u01/app/oracle/admin/ora19c/xdb_wallet))(Presentation=HTTP)(Session=RAW))
Services Summary...
Service **"ora19c"** has 1 instance(s).   **-- DB정보 붙었음.**
  Instance "ora19c", status READY, has 1 handler(s) for this service...
Service "ora19cXDB" has 1 instance(s).
  Instance "ora19c", status READY, has 1 handler(s) for this service...
The command completed successfully

```

## Easy Connect (간단한 연결)

```sql
-- username/password#host:port/sid(instance_name)
sqlplus hr/hr@192.168.56.110/ora19c

-- username/password@host:port/service_name
sqlplus hr/hr@192.168.56.110:1521/ora19c
```

- 기본적으로 활성화되어 있다.
    - 접속할 수 있는 툴만 있으면 easy connect를 기본적으로 사용할 수 있다.
- 클라이언트 측에서는 네트워크 구성할 필요가 없다. 접속할 수 있는 툴만 있으면 된다.
- 단, 서버측에는 listener가 시작되어 있어야 한다.
- TCP/IP만 지원한다.
- 고급 연결 옵션은 지원하지 않는다.
    - CONNECT-TIME FAILOVER
    - 소스 경로 지정
    - 로드 밸런싱

```sql
sqlplus sys/oracle@192.168.56.111:1521/ora19c as sysdba
-- 📌 **이 패스워드는 패스워드 파일이 가지고 있다.**

SYS@192.168.56.110:1521/ora19c> show parameter instance_name

/*
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
instance_name                        string      ora19c
*/

SYS@192.168.56.110:1521/ora19c> show parameter service_name

/*
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
service_names                        string      ora19c
*/
```

➡  Easy Connect 아닐때 확인

```sql
SYS@ora19c> show parameter instance_name

/*
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
instance_name                        string      ora19c
*/

SYS@ora19c> show parameter service_name

/*
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
service_names                        string      ora19c
*/

SYS@ora19c> show parameter db_domain
-- 📌 현재 db domain은 구성되어 있지 않음.

/*
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
db_domain                            string
*/
```

![image.png](/assets/20250710/11.png)

📌 **Remot 지역에서, 접속할 때마다 매번 아이피 주소나 호스트 이름을 입력하는 것은 힘들지 않을까**

**Local Naming (로컬 이름 지정)**

- 클라이언트 측의 이름 분석(name resolution) 파일 필요
- 모든 오라클 Net 프로토콜 지원한다.
- 고급 연결 옵션을 지원한다.
    - CONNECT-TIME FAILOVER
    - 소스 경로 지정
    - 로드 밸런싱

---

**오라클 클라이언트 프로그램 설치**

- client 측 구성

```
C:\oraclexe\app\oracle\product\11.2.0\server\network\ADMIN\tnsnames.ora
```

🌳 transname.ora 에 이걸 등록

```sql
XE =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-T06VOV2)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = XE)
    )
  )

**ORA19C =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.56.110)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ora19c)
    )
  )**

EXTPROC_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
    )
    (CONNECT_DATA =
      (SID = PLSExtProc)
      (PRESENTATION = RO)
    )
  )

ORACLR_CONNECTION_DATA = 
  (DESCRIPTION = 
    (ADDRESS_LIST = 
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) 
    ) 
    (CONNECT_DATA = 
      (SID = CLRExtProc) 
      (PRESENTATION = RO) 
    ) 
  ) 
```

🌳 cmd 창에서 확인

```sql
**C:\Users\이현아>sqlplus sys/oracle@ORA19C as sysdba**

SQL*Plus: Release 11.2.0.2.0 Production on 금 7월 11 12:53:35 2025

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Connected to:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production

**SQL> exit**
Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production

**C:\Users\이현아>sqlplus hr/hr@ORA19C**

SQL*Plus: Release 11.2.0.2.0 Production on 금 7월 11 12:54:05 2025

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Connected to:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production

```

![image.png](/assets/20250710/12.png)

```sql
SELECT * FROM v$instance;
```

![image.png](/assets/20250710/13.png)

📌 **TNSPING CMD 창에서**

```sql
C:\Users\이현아>tnsping ORA19C

TNS Ping Utility for 64-bit Windows: Version 11.2.0.2.0 - Production on 11-7월 -2025 12:53:18

Copyright (c) 1997, 2014, Oracle.  All rights reserved.

Used parameter files:
C:\oraclexe\app\oracle\product\11.2.0\server\network\admin\sqlnet.ora

Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.56.110)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = ora19c)))
OK (10 msec)
```

## 동적 서비스 등록 (Dynamic service registration)

```sql
[oracle@oracle ~]$ cd $ORACLE_HOME/network/admin
[oracle@oracle admin]$ pwd
/u01/app/oracle/product/19.3.0/dbhome_1/network/admin
[oracle@oracle admin]$ ls
listener.ora  samples  shrept.lst  tnsnames.ora
[oracle@oracle admin]$ cat listener.ora
# listener.ora Network Configuration File: /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

```

- 오라클 8i 이상 버전의 오라클 데이터베이스 시작 시 자동으로 기본 리스너에게 데이터베이스 정보가 등록된다.
- 기본 리스너에 추가로 데이터베이스 정보를 구성할 필요가 없다.
- 그래서 listener.ora 파일 안에 별다른 내용은 없다.

### 정적 서비스 등록 (Static service registration)

- **오라클의 기본 포트가 아닌 다른 포트 번호를 이용할 때** 정적 서비스 등록 이용
- 리스너 설정 파일(listener.ora)에 직접 SID 정보를 명시해서 등록하는 방식
- DB가 기동되기 전에도 리스너는 해당 서비스를 알고 있음

🌳오라클 홈

```
[oracle@oracle admin]$ echo $ORACLE_HOME
/u01/app/oracle/product/19.3.0/dbhome_1
```

🌳 vi listener.ora (/network/admin 경로에 있는) 

```sql
# DB service 정보 (리스너가 담당해야하는 DB 정보)
SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = ora19c)
      (ORACLE_HOME = /u01/app/oracle/product/19.3.0/dbhome_1)
      (GLOBAL_DBNAME = ora19c)
    )
  )
# 이 정보는 8i부터는 dynamic 등록이 된다. (pmon/RLEG가 자동 등록한다.)

# 리스너 정보
LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )
  
 -- 📌 cat listener.ora 
 [oracle@oracle admin]$ cat listener.ora
# listener.ora Network Configuration File: /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
# Generated by Oracle configuration tools.
SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = ora19c)
      (ORACLE_HOME = /u01/app/oracle/product/19.3.0/dbhome_1)
      (GLOBAL_DBNAME = ora19c)
    )
  )
LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )
 
```

➡ 정적 방식은 데이터베이스가 추가될 때마다 정보를 추가해야 한다. 

➡ **리스너 시작**

```sql
[oracle@oracle admin]$ lsnrctl start

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 11-JUL-2025 13:24:07

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Starting /u01/app/oracle/product/19.3.0/dbhome_1/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 19.0.0.0.0 - Production
System parameter file is /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Log messages written to /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1521)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                11-JUL-2025 13:24:07
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
Services Summary...
Service **"ora19c"** has 1 instance(s).  **-- 📌 시작하자마자 DB 정보가 바로 등록되었음.**
  Instance **"ora19c**", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
 
```

➡ static service 등록은 바로 등록된다.

➡ 언제 사용?

📌 오라클의 기본 포트가 아닌 다른 포트를 사용할 때 사용. 

    포트 번호는 보안에 취약하기 때문에 

🌳 기본 포트 1521에서 다른 포트 1522 로 수정

```sql
vi listener.ora 
```

![image.png](/assets/20250710/14.png)

➡ 포트를 변경해주었기 때문에 reload 해줘야 한다.  인식이 안된다면

![image.png](/assets/20250710/15.png)

➡ 다시 껐다 켜기 → status 확인

![image.png](/assets/20250710/16.png)

➡ 포트 변경했으니 기존 유저들은 접속이 안될것.

➡ easy connect 나 TNS 방식으로도 접속이 안될 것.

➡ TNS 방식으로 tnsname.ora에서 포트 번호를 수정하자.  

## 동적 서비스 등록을 이용한 기본 리스너의 포트 수정

### 다이나믹 서비스 등록 (Dynamic Service Registration)

### 개념

- DB 인스턴스가 리스너에게 스스로 자신의 정보를 등록하는 방식
- Oracle의 **백그라운드 프로세스인 LREG** (또는 예전에는 **PMON**)이 수행
- 리스너가 따로 `SID_LIST` 에 등록되어 있지 않아도 DB가 올라가면 자동으로 등록됨

### 특징

- `listener.ora` 에 DB 등록 정보(SID 등)를 명시할 필요 없음
- DB가 기동되면 **LREG** 가 자동으로 리스너에 등록 요청
- `listener.ora` 가 단순해짐
- Oracle 11g 이상에서는 기본 방식

### 전체 조건

- **리스너가 먼저 기동**되어 있어야 DB가 리스너에 등록될 수 있음

---

✅ READY는 다이나믹 서비스 등록으로 뜬 것이고,

✅ 스태틱 서비스 방식은 UNKNOWN이라고 나온다. (

### 다이나믹 서비스를 이용한 기본 리스너의 포트를 수정

→ `local_listener` 파라미터를 반드시 명시적으로 설정해야 한다.

---

### 1️⃣ 방법

```bash
lsnrctl stop
```

```bash
-- 백업 복사
[oracle@oracle admin]$ cp listenr.ora listener.bak

-- 기존 파일을 old 파일로 저장
[oracle@oracle admin]$ mv listener.ora listener.old

# 백업으로 만들어둔 것을 본 파일로
[oracle@oracle admin]$ mv listener.bak listener.ora
```

```bash
[oracle@oracle admin]$ vi listener.ora
# 기존 포트번호에서 1522 로 변경
:wq

[oracle@oracle admin]$ lsnrctl start

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 10-JUL-2025 16:06:28

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Starting /u01/app/oracle/product/19.3.0/dbhome_1/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 19.0.0.0.0 - Production
System parameter file is /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Log messages written to /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1522)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1522)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                10-JUL-2025 16:06:28
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1522)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

The listener supports no services
The command completed successfully
```

➡ Dynamic 서비스 등록의 기본 포트일 경우는 alter system register 을 하면 바로 등록됨.

➡ 포트 번호 변경됐을 경우 어딘가 저장해놔야만 함.

📌 리스너 상태 정보로 Static vs Dynamic 결정

- ready = Dynamic
- unknown = Static ( ready랑 섞여 나와도 unknown 로 뜨면 static임)

```sql
SYS@ora19c> alter system register;
-- 다이나믹 서비스 방식에서 기본 포트가 아닌 다른 포트로 변경한 경우엔 위의 명령어를 수행해도 DB 정보를 등록하지 못한다.

[oracle@oracle admin]$ lsnrctl status

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 09-JUL-2025 12:10:05

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1522)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                09-JUL-2025 12:07:38
Uptime                    0 days 0 hr. 2 min. 27 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1522)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

The listener supports no services
The command completed successfully
```

➡ 다시 vi 편집으로 포트를 1521(기본 포트)로 수정해주고, 리스너를 킨 후 sys로 가서
alter system register; 를 한 후 lsnrctl status로 확인하면, DB를 잡은 것을 볼 수 있다.

```sql
[oracle@oracle admin]$ lsnrctl stop
LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 09-JUL-2025 12:15:13

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1521)))
The command completed successfully

[oracle@oracle admin]$ vi listener.ora
→ 포트 1522로 다시 수정.

[oracle@oracle admin]$ lsnrctl start
The listener supports no services -- 담당해야할 DB 정보가 안잡힌다. 수동 등록(alter system register;) 해도 안된다.

-- 해결하기 위해서

SYS@ora19c> show parameter local_listener

/*
NAME	TYPE	VALUE
local_listener	string	LISTENER_ORA19C
*/

[oracle@oracle admin]$ vi tnsnames.ora
-- → LISTENER_ORA19C의 포트를 1522로 수정.
```

## 2️⃣ 방법

# 수동으로 잡아주는 방법.

```bash
SYS@ora19c> alter system set local_listener = '(ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1522))';

SYS@ora19c> alter system register;
SYS@ora19c> show parameter local_listener
```

| NAME | TYPE | VALUE |
| --- | --- | --- |
| local_listener | string | (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1522)) |

```sql
--1️⃣ DB 상태가 open 이어야 하고
--2️⃣ show parameter local_listener 의 포트와 vi listener.ora의 포트가 동일해야 한다.
--3️⃣ alter system register; 로 다시 한번 등록해주고 리스너 상태 확인 해보자.

[oracle@oracle admin]$ lsnrctl status

LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 11-JUL-2025 14:40:48

Copyright (c) 1991, 2019, Oracle.  All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracle)(PORT=1522)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 19.0.0.0.0 - Production
Start Date                11-JUL-2025 14:36:58
Uptime                    0 days 0 hr. 3 min. 49 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /u01/app/oracle/product/19.3.0/dbhome_1/network/admin/listener.ora
Listener Log File         /u01/app/oracle/diag/tnslsnr/oracle/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracle)(PORT=1522)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=oracle)(PORT=5500))(Security=(my_wallet_directory=/u01/app/oracle/admin/ora19c/xdb_wallet))(Presentation=HTTP)(Session=RAW))
Services Summary...
Service "ora19c" has 2 instance(s).
  Instance "ora19c", status UNKNOWN, has 1 handler(s) for this service...
  Instance "ora19c", status READY, has 1 handler(s) for this service...
Service "ora19cXDB" has 1 instance(s).
  Instance "ora19c", status READY, has 1 handler(s) for this service...
The command completed successfully

```

📌 1️⃣ 번 방법 다시 도전

```sql
# listener port 1522 → 1523 변경
lsnrctl stop
[oracle@oracle admin]$ vi listener.ora

# L02라는 이름으로 tns를 만들자.
[oracle@oracle admin]$ vi tnsnames.ora

----------------------------------------------------------------
-- 📌 아래처럼
LISTENER_ORA19C =
  (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1522))

L02 =
  (ADDRESS = (PROTOCOL = TCP)(HOST = oracle)(PORT = 1523))
-----------------------------------------------------------------  

SYS@ora19c> alter system set local_listener = L02;

System altered.

SYS@ora19c> show parameter local_listener;

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
local_listener                       string      L02

-- 이렇게 하고 확인해보기 

```

## 📌 다시 기본 포트로 수정하기

```sql
**[oracle@oracle admin]$ vi listener.ora**  -- 1521로 
[oracle@oracle admin]$ sqlplus / as sysdba

SQL*Plus: Release 19.0.0.0.0 - Production on Fri Jul 11 14:50:44 2025
Version 19.3.0.0.0

Copyright (c) 1982, 2019, Oracle.  All rights reserved.

Connected to:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.3.0.0.0

**SYS@ora19c> alter system set local_listener = '';**   

System altered.

```

➡ TNS 파일 수정하기