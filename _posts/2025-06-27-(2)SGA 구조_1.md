---
title: "[47ì¼ì°¨] SGA êµ¬ì¡° (1)"
excerpt: "ì•„ì´í‹°ìœŒ 0627_(1) "
categories:
      - ORACLE19c
tags:
      - ORACLE19c
      - TIL
last-modified-at: 2025-06-27T18:34
---

## ìš©ì–´ ì„¤ëª…

ğŸ“Œ SCN(System Change Number) :  

- **íŠ¸ëœì­ì…˜ì˜ íƒ€ì„ìŠ¤íƒ¬í”„** ê°™ì€ ì—­í• .
- ì˜¤ë¼í´ ë°ì´í„°ë² ì´ìŠ¤ì˜ **ë…¼ë¦¬ì  ì‹œê°„(ì‹œí€€ìŠ¤ ë²ˆí˜¸)**
- ì»¨íŠ¸ë¡¤ íŒŒì¼ì´ ê°€ì§€ê³  ìˆë‹¤.

# COMMIT

1ï¸âƒ£ scn(system change(commit) number) í• ë‹¹, commit ì •ë³´ redo log buffer ì €ì¥

2ï¸âƒ£ ì–¸ë‘ ì„¸ê·¸ë¨¼íŠ¸ í—¤ë”ì˜ íŠ¸ëœì­ì…˜ í…Œì´ë¸”ì— commit ì™„ë£Œë˜ì—ˆë‹¤ëŠ” ì •ë³´ë¥¼ ê¸°ë¡

3ï¸âƒ£ transaction entry, lock í•´ì œ

4ï¸âƒ£ LGWR ì‘ë™ëœë‹¤. redo log bufferì˜ ë‚´ìš©ì„ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ ê¸°ë¡

# SGA (System Global Area)

ğŸŒ³ ëª¨ë“  ì˜¤ë¼í´ í”„ë¡œì„¸ìŠ¤ê°€ ì•¡ì„¸ìŠ¤í•˜ëŠ” ê³µìœ  ë©”ëª¨ë¦¬

ğŸŒ³ SGA ì˜ì—­ì— ìˆëŠ” êµ¬ì„± ìš”ì†Œë¥¼ DB ìš´ì˜ ì¤‘ì— ë™ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

ğŸŒ³ SGA ë©”ëª¨ë¦¬ëŠ” **SGA_MAX_SIZE** ë¡œ ì„¤ì •í•œë‹¤. 

ğŸ“ sga_max_size ëŠ” isses_modifiable FALSE ë¡œ ë˜ì–´ìˆìœ¼ë¯€ë¡œ static parameter

```sql
select * from v$parameter where name = 'sga_max_size';    
alter system set sga_max_size = 1g scope = spfile;
```

ğŸŒ³ osì—ì„œ show sga

```bash
SYS@ora19c> show sga

Total System Global Area  713027608 bytes
Fixed Size                  8900632 bytes   -- ì˜¤ë¼í´ì´ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê³µê°„ 
Variable Size             511705088 bytes
Database Buffers          184549376 bytes
Redo Buffers                7872512 bytes

```

ğŸ“ Fixed Size :

- ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ê°€ ì•¡ì„¸ìŠ¤í•´ì•¼ í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë° ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœì— ëŒ€í•œ ì •ë³´
- í”„ë¡œì„¸ìŠ¤ ê°„ì— í†µì‹ í•˜ëŠ” ì •ë³´
- Fixed Size í¬ê¸°ëŠ” ì˜¤ë¼í´ì´ ì„¤ì •í•˜ë©° ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.

ğŸ“ Variable Size : shared pool + large pool + java pool + streams pool

ğŸ“ Database Buffers  (Database Buffer Cache,  Data Buffer Cache)

- ë°ì´í„° íŒŒì¼ì—ì„œ ì½ì€ ë°ì´í„° ë¸”ë¡ì˜ ë³µì‚¬ë³¸ì„ ì €ì¥í•˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­
- ë¬¼ë¦¬ì  I/Oì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ìµœê·¼ì— ì‚¬ìš©ëœ ë¸”ë¡ì„ ì €ì¥í•˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­
- ëª¨ë“  ìœ ì €ëŠ” Data Buffer Cacheì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆë‹¤.
- ê³µê°„ì´ ë‚˜ëˆ ì ¸ ìˆë‹¤.
    - default : db_cache_size
    - keep : db_keep_cache_size
    - recycle : db_recycle_cache_size
    - nk : db_nk_cache_size (n : 2, 4, 8, 16, 32) (dynamic parameter)
    
    ```bash
    ALTER SYSTEM SET db_cache_size = 50m scope = both; 
    ```
    

â–¶ï¸ shared pool

- library cache : SQLë¬¸ , ì‹¤í–‰ ê³„íšì„ ê°€ì§€ê³  ìˆëŠ” ë©”ëª¨ë¦¬
- data dictionary cache : data dictionary ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë©”ëª¨ë¦¬

```bash
select * from v$parameter where name = 'shared_pool_size'; -- dynamic parameter
alter system set shared_pool_size = 128m scope = both;
```

â–¶ï¸ redo log buffer

- ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„°ë¸”ë¡ì˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì„ ê¸°ë¡í•œë‹¤.
- ê¸°ë³¸ ëª©ì ì€ ë³µêµ¬(recovery)ì´ë‹¤.
- ë‚´ë¶€ì˜ ê¸°ë¡ëœ ë³€ê²½ ì‚¬í•­ì„ ë¦¬ë‘ í•­ëª©(redo entry)ë¼ê³  í•œë‹¤.
- ë¦¬ë‘ í•­ëª©ì€ (redo entry) ë³€ê²½ ì‚¬í•­ì„ ì¬êµ¬ì„±í•˜ê±°ë‚˜ ì¬ì‹¤í–‰í•  ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.
- ë¦¬ë‘ í•­ëª©ì´ ìƒì„±ë˜ëŠ” SQLë¬¸ : DML, CREATE, ALTER, DROP, SELECT , , FOR UPDATE

```bash
select * from v$parameter where name = 'log_buffer';
alter system set log_buffer = 5m scope = spfile;
```