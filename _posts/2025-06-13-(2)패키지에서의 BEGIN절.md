---
title: "íŒ¨í‚¤ì§€ì˜ BEGINì ˆ"
excerpt: "ì•„ì´í‹°ìœŒ 0613_(2) "
categories:
      - ORACLE11g
tags:
      - ORACLE11g
      - TIL
last-modified-at: 2025-06-13T18:37
---

# PACKAGEì˜ BEGINì ˆì€ ì–¸ì œ ì‚¬ìš©í•˜ëŠ” ê°€?

# íŒ¨í‚¤ì§€ ë³€ìˆ˜ ì´ˆê¸°í™”, one time only

ğŸ“ **One time only Procedure**

  ì „ì—­ ë³€ìˆ˜ì— íŠ¹ì • ê°’ì„ ì œê³µí•˜ê¸° ìœ„í•œ ë‹¨ 1íšŒë§Œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì‹œì €.

â–¶ï¸ PACKAGEì˜ BEGINì ˆì—ì„œë„, ì¼ë°˜ ìµëª… ë¸”ë¡ êµ¬ì¡°ì²˜ëŸ¼  ì•”ì‹œì  ì»¤ì„œë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

      íŠ¹ë³„í•œ ê±´ ì—†ì—ˆìŒ.

â–¶ï¸ **í…Œì´ë¸” ìƒì„±**

```sql
CREATE TABLE hr.tax_rate
(rate_name varchar2(30),
 rate_value number,
 rate_date date);
 
INSERT INTO hr.tax_rate(rate_name,rate_value,rate_date)
VALUES('TAX', 0.08, sysdate);

COMMIT;
```

```sql
SELECT * FROM hr.tax_rate;
```

![image.png](/assets/20250613/1.png)

â–¶ï¸ **PACKAGE ìƒì„±**

ğŸ“ ì™œ êµ³ì´ íŒ¨í‚¤ì§€ ì•ˆì— ë„£ì—ˆì„ê¹Œ? â†’ ì—¥ íŒ¨í‚¤ì§€ì•ˆì—ì„œ ì•”ì‹œì  ì»¤ì„œë¡œ ë¶ˆëŸ¬ë“¤ì—¬ì§„ ë³€ìˆ˜ëŠ” ê¸€ë¡œë²Œ ë³€ìˆ˜ì¸ê°€ë´„

ê·¸ë˜ì„œ **hr.taxes.g_tax í˜•íƒœë¡œ** í˜¸ì¶œí•´ì•¼ í•œë‹¤. 

```sql
/* Spec */
CREATE OR REPLACE PACKAGE hr.taxes
IS
    g_tax number;
END taxes;
/
```

```sql
/* Body */
-- tax_rateë¼ëŠ” í…Œì´ë¸”ì—ì„œ rate_nameì´ 'TAX' ë¼ëŠ” rate_valueë¥¼ ì•”ì‹œì  ì»¤ì„œë¡œ êº¼ë‚´ëŠ” ì‘ì—….
CREATE OR REPLACE PACKAGE BODY hr.taxes
IS
BEGIN
    SELECT rate_value
      INTO g_tax
      FROM hr.tax_rate
     WHERE rate_name = 'TAX'; 
END taxes;
/
```

â–¶ï¸ HR SESSION 1

```sql
 execute dbms_output.put_line(hr.taxes.g_tax)
```

â–¶ï¸ HR SESSION 2

```sql
UPDATE hr.tax_rate
SET    rate_value = 1
WHERE  rate_name = 'TAX';

COMMIT;
```

```sql
SELECT * FROM hr.tax_rate;

execute dbms_output.put_line(hr.taxes.g_tax)
```

ğŸ“ **íŒ¨í‚¤ì§€ ì•ˆì—ì„œ êµ¬í˜„í•œ SELECT ë¬¸ê³¼ í•¨ìˆ˜ë¡œ êµ¬í˜„í•œ SELECTë¬¸ ê°„ì— ì°¨ì´ì ?**

â†’ íŒ¨í‚¤ì§€ ì•ˆì—ì„œ êµ¬í˜„í•œ SELECT ë¬¸ì—ì„œëŠ” ë³€ìˆ˜ê°€ ê¸€ë¡œë²Œí•¨.

â†’ í•¨ìˆ˜ë¡œë„ í•œë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì.